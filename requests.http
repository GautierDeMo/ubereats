# Création de variable(s)
@id=ee41f504-924d-4177-94bb-2b513de730bf
@token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImVlNDFmNTA0LTkyNGQtNDE3Ny05NGJiLTJiNTEzZGU3MzBiZiIsIm5hbWUiOiJMZSBQZXRpdCBCaXN0cm8iLCJvd25lck5hbWUiOiJJc2FiZWxsZSBEdXBvbnQiLCJlbWFpbCI6ImxlcGV0aXRiaXN0cm9AZ21haWwuY29tIiwiZm9vZFR5cGVzIjpbIkZyZW5jaCIsIlNlYWZvb2QiXSwiaWF0IjoxNzY2MDc0MTQzLCJleHAiOjE3NjYxNjA1NDN9.tRxZsW7A4vjWnbooDvdPNnKVv2heMN_12eoE6MzOku0

#-------------------------------------------------------------------------------

################################################################################
# Premiers test de routes, requêtes, avant de faire router/controller dans le
# 'app.ts'
################################################################################

### TEST GET
GET http://localhost:8000?id=1234&name=Toto

### TEST POST
POST http://localhost:8000
Content-Type: application/json

{
  "firstname": "John",
  "lastname": "Doe"
}

### TEST PUT
PUT http://localhost:8000/1234


### TEST POST JUSTE POUR INFO ###
POST http://localhost:8000
# Lorsque j'envoie un formulaire
Content-Type: multipart/form-data

################################################################################
# Fin des tests
################################################################################

#-------------------------------------------------------------------------------

################################################################################
# GET ROUTES
################################################################################

### GET Restaurants list ###
GET http://localhost:8000/v1/admin/restaurant

### GET Restaurant by id ###
GET http://localhost:8000/v1/admin/restaurant/{{id}}

### GET Restaurant profile ###
GET http://localhost:8000/v1/restaurant/profile
Authorization: Bearer {{token}}

################################################################################
# GET ROUTES
################################################################################

#-------------------------------------------------------------------------------

################################################################################
# POST ROUTES
################################################################################

### Admin CREATE restaurant ###
POST http://localhost:8000/v1/admin/restaurant/create
Content-Type: application/json

{
  "name": "La Boucherie",
  "ownerName": "Jean-Pierre",
  "foodTypes": ["Pizza", "Burger", "French"],
  "postalcode": "75001",
  "address": "Rue de la Paix",
  "phone": "0612345678",
  "email": "jean-pierre@gmail.com",
  "password": "123456"
}

### Login ###
POST http://localhost:8000/v1/restaurant/login
Content-Type: application/json

{
  "email": "lepetitbistro@gmail.com",
  "password": "qwerty"
}

### CREATE food ###
POST http://localhost:8000/v1/restaurant/foods
Authorization: Bearer {{token}}
Content-Type: multipart/form-data; boundary=limit

--limit
Content-Disposition: form-data; name="data"
Content-Type: application/json

{
  "name": "Pates",
  "description": "Des pates a la creme",
  "category": "pates",
  "foodType": "pates",
  "readyTime": 15,
  "price": 15.90
}

--limit
Content-Disposition: form-data; name="images"; filename="pates.jpg"
Content-Type: image/jpeg

< ./tests/images/pâtes.jpg >
--limit--

################################################################################
# POST ROUTES
################################################################################

#-------------------------------------------------------------------------------

################################################################################
# PATCH ROUTES
################################################################################

### Restaurant (user) UPDATE restaurant ###
PATCH http://localhost:8000/v1/restaurant/update
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "Le Grand Bistro",
  "ownerName": "Jean-Pierre",
  "foodTypes": ["Pizza", "Burger", "French"],
  "address": "Rue de la Paix",
  "phone": "0612345678"
}

### UPDATE restaurant service available ###
PATCH http://localhost:8000/v1/restaurant/available
Authorization: Bearer {{token}}

### UPDATE Cover images ###
PATCH http://localhost:8000/v1/restaurant/profile/cover-images
Authorization: Bearer {{token}}
# le mot-clé 'boundary=limit' est là avec l'extension REST Client, afin de faire
# les tests correctement en local
Content-Type: multipart/form-data; boundary=limit

--limit
Content-Disposition: form-data; name="images"; filename="restaurant-1.jpg"
Content-Type: image/jpeg

< ./tests/images/restaurant-1.jpg >

--limit
Content-Disposition: form-data; name="images"; filename="restaurant-2.jpg"
Content-Type: image/jpeg

< ./tests/images/restaurant-2.jpg >
--limit--

################################################################################
# PATCH ROUTES
################################################################################

#-------------------------------------------------------------------------------

################################################################################
# PUT ROUTES
################################################################################



################################################################################
# PUT ROUTES
################################################################################
